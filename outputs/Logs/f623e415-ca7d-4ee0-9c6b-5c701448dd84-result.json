{"name": "正常登录", "status": "broken", "statusDetails": {"message": "AttributeError: 'str' object has no attribute 'starstwith'", "trace": "self = <test_case.test_demo.TestLogin object at 0x0000024E56F3FCA0>\ndata = {'data': '\\n{\"app_uuid\": \"10000000002527\",\\n \"cellphone\": \"0911223344“}', 'extract': '{\"token_type\": \"$.message.token_type\",\\n   \"access_token\": \"$.message.access_token\"}', 'feature': '登录', 'file': None, ...}\n\n    @allure.severity(allure.severity_level.BLOCKER)\n    @pytest.mark.parametrize(\"data\", ExcelHandle(data_path + \"test_case.xlsx\").read_excel())\n    def test_login(self, data):\n        allure_title(\"正常登录\")\n        print(data)\n        print('sssss')\n        # data = {\n        #     \"title\": \"正常登录\",\n        #     \"url\": \"bank/api/login\",\n        #     \"method\": \"post\",\n        #     \"pk\": \"data\",\n        #     \"data\": {\"password\": \"123456\", \"userName\": \"king\"}\n        # }\n        #\n        # expected = {\n        #     'eq': {'$.code': '0', '$.message': 'success'}\n        # }\n        # 发送请求\n>       response = BaseRequest.send_request(data)\n\ntest_case\\test_demo.py:43: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nrequest_utils\\base_request.py:25: in send_request\n    request_data = RequestPreDataHandle(cases).pre_request_handle\nrequest_utils\\pre_handle_utils.py:137: in pre_request_handle\n    self._url_handle()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <request_utils.pre_handle_utils.RequestPreDataHandle object at 0x0000024E56F3FC40>\n\n    def _url_handle(self):\n        url = self.request_data[\"url\"]\n        if url:\n            logger.info(f\"请求前url: {self.request_data['url']}\")\n            if url.startswith(\"http\"):\n                url = url\n            else:\n                if self.host.endswith(\"/\") and not url.starstwith(\"/\"):\n                    url = self.host + url\n>               elif not self.host.endswith(\"/\") and url.starstwith(\"/\"):\nE               AttributeError: 'str' object has no attribute 'starstwith'\n\nrequest_utils\\pre_handle_utils.py:65: AttributeError"}, "attachments": [{"name": "log", "source": "9f4fcdc5-b997-4bce-8695-717fe41c2697-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "data", "value": "{'id': 'case_001', 'feature': '登录', 'title': '正确密码登录', 'url': 'api/v1/app/authorization', 'header': '{\"uid\": \"10000000002527\",\\n \"apply-secret\": \"base64:szoJ3mSx/5U7zOsJfU7s4pSahiwdh01x6badmz5FtCM=\"}', 'method': 'post', 'pk': 'json', 'data': '\\n{\"app_uuid\": \"10000000002527\",\\n \"cellphone\": \"0911223344“}', 'file': None, 'extract': '{\"token_type\": \"$.message.token_type\",\\n   \"access_token\": \"$.message.access_token\"}', 'validate': '{\"eq\": {\\n  \"$.code\": \"200\",\\n  \"$.result\": \"ok\"}}'}"}], "start": 1658744895516, "stop": 1658744895517, "uuid": "995c00fd-4835-40b9-9371-f7758e071e3c", "historyId": "9babae84909f7ac1f691eb0663ea13df", "testCaseId": "1090d921a3f660110695a866e18ec840", "fullName": "test_case.test_demo.TestLogin#test_login", "labels": [{"name": "severity", "value": "blocker"}, {"name": "feature", "value": "登录"}, {"name": "parentSuite", "value": "test_case"}, {"name": "suite", "value": "test_demo"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "PA2022060178"}, {"name": "thread", "value": "23828-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_case.test_demo"}]}